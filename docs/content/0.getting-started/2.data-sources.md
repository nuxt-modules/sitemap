---
title: Data Sources
description: Understand where your sitemap URLs come from.
navigation:
  title: 'Data Sources'
---

## Where do sitemap URLs come from?

After installing the module, you may wonder: where do the URLs in your sitemap come from?

Every URL belongs to a **source**. There are two types:
- **Application Sources** - Automatically discovered from your Nuxt app
- **User Sources** - Manually provided by you

For most sites, application sources handle everything automatically. You only need user sources when you have dynamic routes from a CMS or database.

## Application Sources

Application sources are automatically generated from your Nuxt application. They provide convenience by automatically discovering URLs from your app's structure, but can be disabled if they don't match your needs.

- `nuxt:pages` - Statically analysed pages of your application (including [`definePageMeta`](/docs/sitemap/advanced/loc-data#modify-loc-data-with-page-meta) sitemap config)
- `nuxt:prerender` - URLs that were prerendered
- `nuxt:route-rules` - URLs from your route rules
- `@nuxtjs/i18n:pages` - When using the `pages` config with Nuxt I18n. See [Nuxt I18n](/docs/sitemap/guides/i18n) for more details.
- `@nuxt/content:document-driven` - When using Document Driven mode. See [Nuxt Content](/docs/sitemap/guides/content) for more details.

### Disabling Application Sources

You can disable application sources individually or all at once using the `excludeAppSources` config option.

::code-group

```ts [Disable all app sources]
export default defineNuxtConfig({
  sitemap: {
    // exclude all app sources
    excludeAppSources: true,
  }
})
```

```ts [Disable pages app source]
export default defineNuxtConfig({
  sitemap: {
    // exclude static pages
    excludeAppSources: ['nuxt:pages'],
  }
})
```

::

## User Sources

User sources allow you to manually configure where your sitemap URLs come from. These are especially useful for dynamic routes that aren't using [prerendering discovery](/docs/sitemap/guides/prerendering).

You have several options for providing user sources:

### 1. Build-time Sources with `urls` Function

For sitemap data that only needs to be updated at build time, the `urls` function is the simplest solution. This function runs once during sitemap generation.

The `urls` function should return an array of URL strings or objects:

```ts
interface SitemapUrl {
  loc: string              // Required: The URL path
  lastmod?: string | Date  // Optional: Last modification date
  changefreq?: 'always' | 'hourly' | 'daily' | 'weekly' | 'monthly' | 'yearly' | 'never'
  priority?: number        // Optional: 0.0 to 1.0
  images?: ImageEntry[]    // Optional: Associated images
  videos?: VideoEntry[]    // Optional: Associated videos
  _sitemap?: string        // Optional: Which sitemap this URL belongs to (for multi-sitemaps)
}
```

::code-group

```ts [Simple strings]
export default defineNuxtConfig({
  sitemap: {
    urls: [
      '/about',
      '/contact',
      '/products/special-offer'
    ]
  }
})
```

```ts [URL objects]
export default defineNuxtConfig({
  sitemap: {
    urls: [
      {
        loc: '/about',
        lastmod: new Date(),
        changefreq: 'monthly',
        priority: 0.8
      },
      {
        loc: '/blog/my-post',
        lastmod: '2024-01-15',
        changefreq: 'weekly',
        priority: 0.9
      }
    ]
  }
})
```

```ts [Async function]
export default defineNuxtConfig({
  sitemap: {
    urls: async () => {
      const response = await fetch('https://api.example.com/posts')
      const posts = await response.json()
      return posts.map(post => ({
        loc: `/blog/${post.slug}`,
        lastmod: post.updated_at,
      }))
    }
  }
})
```

::

### 2. Runtime Sources with `sources` Array

For sitemap data that must always be up-to-date at runtime, use the `sources` array. Each source is a URL that gets fetched and should return either:
- JSON array of sitemap URL entries
- XML sitemap document

::code-group

```ts [Single Sitemap]
export default defineNuxtConfig({
  sitemap: {
    sources: [
      // create our own API endpoints
      '/api/__sitemap__/urls',
      // use a static remote file
      'https://cdn.example.com/my-urls.json',
      // hit a remote API with credentials
      ['https://api.example.com/pages/urls', { headers: { Authorization: 'Bearer <token>' } }]
    ]
  }
})
```

```ts [Multiple Sitemaps]
export default defineNuxtConfig({
  sitemap: {
    sitemaps: {
      foo: {
        sources: [
          '/api/__sitemap__/urls/foo',
        ]
      },
      bar: {
        sources: [
          '/api/__sitemap__/urls/bar',
        ]
      }
    }
  }
})
```

::

You can provide multiple sources, but consider implementing your own caching strategy for performance.

Learn more about working with dynamic data in the [Dynamic URLs](/docs/sitemap/guides/dynamic-urls) guide.

### 3. Dynamic Sources Using Nitro Hooks

For advanced use cases like forwarding authentication headers or adding sources based on request context, see the [Nitro Hooks documentation](/docs/sitemap/nitro-api/nitro-hooks#sitemap-sources).
